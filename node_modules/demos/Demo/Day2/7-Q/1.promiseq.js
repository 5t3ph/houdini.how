var fs=require('fs');
var Q=require('./q');

function qread(fileName) {

  var deferred = Q.defer();
  
  fs.readFile(fileName, "utf-8", function (error, text) {
   	if (error) {
		deferred.reject(new Error(error));
    	} else {
		deferred.resolve(text);
   	 }
  });
  return deferred.promise;
};

var mypromise=qread("message.txt");
//console.log(mypromise);

mypromise.then(function(data) {
  		console.log(data);
	},function(err)
	{
		console.log(err);
	});







