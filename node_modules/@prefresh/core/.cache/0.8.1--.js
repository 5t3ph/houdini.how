import{options as e,Component as t}from"/@npm/preact";const o=e.__e;e.__e=(e,t)=>{t.__c&&t.__c.__d&&(t.__c.__d=!1),o&&o(e,t)};const n="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout;e.debounceRendering=e=>{n(()=>{try{e()}catch(t){throw e.__r=0,t}})};const c=new WeakMap,s=e.vnode;e.vnode=e=>{if(e&&"function"==typeof e.type){const t=c.get(e.type);t?t.push(e):c.set(e.type,[e])}s&&s(e)};const _=e.unmount;e.unmount=e=>{const t=(e||{}).type;if("function"==typeof t&&c.has(t)){const o=c.get(t);if(o){const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}_&&_(e)};const r=new WeakMap,i=e=>{let t,o=e.key;try{t=e.getCustomHooks()}catch(n){return e.forceReset=!0,o}for(let c=0;c<t.length;c++){const n=t[c];if("function"!=typeof n)return e.forceReset=!0,o;const s=r.get(n);if(void 0===s)continue;const _=i(s);s.forceReset&&(e.forceReset=!0),o+="\n---\n"+_}return o};let f=new Map,p=[];self.__PREFRESH__={getSignature:e=>r.get(e),register:(e,t)=>{if(!t.includes("%exports%"))if(f.has(t)){const o=f.get(t);o!==e&&(p.push([o,e]),f.set(t,e))}else f.set(t,e);r.has(e)||r.set(e,{getCustomHooks:()=>[],type:e})},getPendingUpdates:()=>p,flush:()=>{p=[]},replaceComponent:function(e,o,n){const s=c.get(e);s&&(c.delete(e),c.set(o,s),p=p.filter(t=>t[0]!==e),s.forEach(c=>{if(c.type=o,c.__c){c.__c.constructor=c.type;try{if(c.__c instanceof e){const e=c.__c,t=new o(c.__c.props,c.__c.context);c.__c=t;for(let o in e){const n=typeof e[o];o in t?"function"!==n&&typeof t[o]===n&&("object"===n&&null!=t[o]&&t[o].constructor===e[o].constructor?Object.assign(t[o],e[o]):t[o]=e[o]):t[o]=e[o]}}}catch(s){c.__c.constructor=o}n&&(c.__c.__H={__:[],__h:[]}),(c.__e&&!document.contains(c.__e)||!c.__e&&!c.__k)&&location.reload(),t.prototype.forceUpdate.call(c.__c)}}))},sign:function(e,t,o,n,c){if(e){let s=r.get(e);if("begin"===c)return r.set(e,{type:e,key:t,forceReset:o,getCustomHooks:n||(()=>[])}),"needsHooks";"needsHooks"===c&&(s.fullKey=i(s))}},computeKey:i};